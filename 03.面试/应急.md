# 应急案例
看告警的时候，收到阿里云的信息通知，说服务器正在对外进行攻击，让我排查具体情况
用netstat命令，发现有一万多个id是28263（不记得了），名称叫bdgopoga的可疑进程，初步判断为口令爆破，
然后排查账号发现有未知ip登陆了ssh的root账号，就是那个进程id，
然后我就去访问那个ip，发现开着80端口，发现是某企业的，怀疑他是肉鸡跳板，
# 内存马查杀
1.看中间件日志
先判断是通过什么方法注入的内存马，可以通过查看weib日志是否有可疑的web访问日志，如果是filter和listener类型会有大量url请求路径相同的参数
查看响应码为200，但是页面不存在的，看看有没有和哥斯拉，冰蝎相同的url请求
通过查找返回200的url路径对比web目录下是否真实存在文件，不存在则为内存马
2，中间件日志无异常
如果web日志无异常，排查是否为中间件漏洞导致代码执行注入内存马，排查errpr.log日志，看看有没有可疑的报错，根据注入时间和方法根据业务使用的组件排查是否可能存在java代码执行漏洞以及是否存在过webshell，排查框架漏洞反序列化漏洞等。
3，杀马方法
	在已有恶意内存马相同路径下，再注入一个相同名字路径的内存马，相当于把他逼走；
内存马一般重启就没了，也可以重启
河马工具内存马查杀