好的，以下是详细的步骤和代码，包括项目结构和每个文件的位置。

### 项目结构
```
pentest
│
├── src
│   ├── main
│   │   ├── java
│   │   │   └── com
│   │   │       └── example
│   │   │           └── pentest
│   │   │               ├── controller
│   │   │               │   └── LoginController.java
│   │   │               ├── entity
│   │   │               │   └── User.java
│   │   │               ├── mapper
│   │   │               │   └── UserMapper.java
│   │   │               ├── service
│   │   │               │   └── UserService.java
│   │   │               └── PentestApplication.java
│   │   └── resources
│   │       ├── mapper
│   │       │   └── UserMapper.xml
│   │       └── templates
│   │           ├── login.html
│   │           └── home.html
│   └── test
│       └── java
│           └── com
│               └── example
│                   └── pentest
│                       └── PentestApplicationTests.java
├── pom.xml
└── README.md
```

### 1. 添加依赖（pom.xml）
在 `pom.xml` 文件中添加以下依赖：

```xml
<dependencies>
    <!-- Spring Boot Starter Web -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <!-- MyBatis Spring Boot Starter -->
    <dependency>
        <groupId>org.mybatis.spring.boot</groupId>
        <artifactId>mybatis-spring-boot-starter</artifactId>
        <version>2.2.0</version>
    </dependency>
    <!-- MySQL Connector -->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <scope>runtime</scope>
    </dependency>
    <!-- Thymeleaf -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-thymeleaf</artifactId>
    </dependency>
</dependencies>
```

### 2. 配置数据库连接（src/main/resources/application.properties）
```properties
# Database connection settings
spring.datasource.url=jdbc:mysql://localhost:3306/pentest?useSSL=false&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=your_password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# MyBatis settings
mybatis.type-aliases-package=com.example.pentest.entity
mybatis.mapper-locations=classpath:mapper/*.xml
```

### 3. 创建实体类（src/main/java/com/example/pentest/entity/User.java）
```java
package com.example.pentest.entity;

// User entity class
public class User {
    private Long id;
    private String username;
    private String password;

    // Getters and setters
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }
}
```

### 4. 创建 MyBatis 映射文件（src/main/resources/mapper/UserMapper.xml）
```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- UserMapper.xml -->
<mapper namespace="com.example.pentest.mapper.UserMapper">
    <!-- SQL query to find user by username and password -->
    <select id="findUserByUsernameAndPassword" resultType="com.example.pentest.entity.User">
        SELECT * FROM users WHERE username = #{username} AND password = #{password}
    </select>
</mapper>
```

### 5. 创建 MyBatis 映射接口（src/main/java/com/example/pentest/mapper/UserMapper.java）
```java
package com.example.pentest.mapper;

// MyBatis Mapper interface for User operations
public interface UserMapper {
    // Method to find user by username and password
    User findUserByUsernameAndPassword(String username, String password);
}
```

### 6. 创建服务层（src/main/java/com/example/pentest/service/UserService.java）
```java
package com.example.pentest.service;

import com.example.pentest.entity.User;
import com.example.pentest.mapper.UserMapper;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

// Service class for user operations
@Service
public class UserService {
    // Autowiring the UserMapper
    @Autowired
    private UserMapper userMapper;

    // Method to login user
    public User loginUser(String username, String password) {
        return userMapper.findUserByUsernameAndPassword(username, password);
    }
}
```

### 7. 创建控制器（src/main/java/com/example/pentest/controller/LoginController.java）
```java
package com.example.pentest.controller;

import com.example.pentest.entity.User;
import com.example.pentest.service.UserService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestParam;

// Controller for handling login requests
@Controller
public class LoginController {
    // Autowiring the UserService
    @Autowired
    private UserService userService;

    // Handles GET requests for the login page
    @GetMapping("/login")
    public String login() {
        return "login";
    }

    // Handles POST requests for user login
    @PostMapping("/login")
    public String login(@RequestParam String username, @RequestParam String password, Model model) {
        User user = userService.loginUser(username, password);
        if (user != null) {
            return "home";
        } else {
            model.addAttribute("error", "Invalid username or password");
            return "login";
        }
    }
}
```

### 8. 创建前端页面（src/main/resources/templates/login.html）
```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login</title>
</head>
<body>
<!-- Login form -->
<form action="#" th:action="@{/login}" th:object="${user}" method="post">
    <div>Username: <input type="text" th:field="*{username}" /></div>
    <div>Password: <input type="password" th:field="*{password}" /></div>
    <div th:if="${error}" th:text="${error}">Invalid username or password</div>
    <div><input type="submit" value="Sign In" /></div>
</form>
</body>
</html>
```

### 9. 创建主页页面（src/main/resources/templates/home.html）
```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Home</title>
</head>
<body>
<!-- Home page -->
<h1>Welcome!</h1>
</body>
</html>
```

### 10. 运行应用程序
在 IntelliJ IDEA 中，右键点击项目，选择 `Run 'PentestApplication'`。

### 11. 访问登录页面
打开浏览器并访问 `http://localhost:8080/login` 来查看登录页面。

### 数据库配置
确保你的 MySQL 数据库正在运行，并且你已经创建了 `users` 表并插入了一些测试数据。例如：

```sql
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL
);

INSERT INTO users (username, password) VALUES ('user1', 'pass1');
```

### 安全性注意事项
- 在生产环境中，密码应该经过加密处理，例如使用 BCrypt。
- 输入验证和错误处理应该更加完善。
- 考虑使用 Spring Security 来处理认证和授权。

这个教程提供了一个基本的登录页面示例，你可以根据需要进行扩展和改进。
